$(document).ready(function(){function t(){$.getJSON(r,function(t){console.log(t),o=t.isDayLightSavingsTime.toString(),c=t.dayOfTheWeek.toString(),s=t.currentDateTime.toString().replace("T"," ").replace("Z",""),l=t.currentDateTime.toString().substring(0,10),n(),e()})}function a(){return utcdate=new Date(s),utchours=utcdate.getHours(),utcminutes=utcdate.getMinutes(),utchours<10&&(utchours="0"+utchours),utcminutes<10&&(utcminutes="0"+utcminutes),{hours:utchours,mins:utcminutes}}function e(){$("#js-day").html('Day: <span class="current">'+c+" ("+l+")</span>"),$("#js-dst").html('Daylight savings: <span class="current">'+o+"</span>");var t=864e5,a=new Date(2016,1,1),e=new Date,n=Math.round(Math.abs((a.getTime()-e.getTime())/t));$("#js-yeardays").html('Days since year start: <span class="current">'+n+"</span>")}function n(){var t=a();$("#js-digital").html(t.hours+'<span class="blink">:</span>'+t.mins)}function i(){function t(){e(c,l),n(c,l),i(c,l)}function e(t,a){var e;t.beginPath(),t.arc(0,0,a,0,2*Math.PI),t.fillStyle="pink",t.fill(),e=t.createRadialGradient(0,0,.95*a,0,0,1.05*a),e.addColorStop(0,"#333"),e.addColorStop(.5,"white"),e.addColorStop(1,"#333"),t.strokeStyle=e,t.lineWidth=.1*a,t.stroke(),t.beginPath(),t.arc(0,0,.1*a,0,2*Math.PI),t.fillStyle="#333",t.fill()}function n(t,a){var e,n;for(t.font=.15*a+"px arial",t.textBaseline="middle",t.textAlign="center",n=1;n<13;n++)e=n*Math.PI/6,t.rotate(e),t.translate(0,.85*-a),t.rotate(-e),t.fillText(n.toString(),0,0),t.rotate(e),t.translate(0,.85*a),t.rotate(-e)}function i(t,e){var n=a(),i=n.hours,o=n.mins,c=0;i%=12,i=i*Math.PI/6+o*Math.PI/360+c*Math.PI/21600,s(t,i,.5*e,.07*e),o=o*Math.PI/30+c*Math.PI/1800,s(t,o,.8*e,.07*e),c=c*Math.PI/30,s(t,c,.9*e,.02*e)}function s(t,a,e,n){t.beginPath(),t.lineWidth=n,t.lineCap="round",t.moveTo(0,0),t.rotate(a),t.lineTo(0,-e),t.stroke(),t.rotate(-a)}var o=document.getElementById("canvas"),c=o.getContext("2d"),l=o.height/2;c.translate(l,l),l=.9*l,setInterval(t,1e3)}var s,o,c,l,r="http://worldclockapi.com/api/json/utc/now";$("#js-clockswitch").on("click",function(){$(this).toggleClass("switched"),$(".clock__analogue").hasClass("active")?($(".clock__analogue").removeClass("active"),$(".clock__analogue").addClass("inactive"),$(".clock__digital").removeClass("inactive"),$(".clock__digital").addClass("active")):($(".clock__analogue").removeClass("inactive"),$(".clock__analogue").addClass("active"),$(".clock__digital").removeClass("active"),$(".clock__digital").addClass("inactive"))}),t(),setInterval(t,6e4),i()});